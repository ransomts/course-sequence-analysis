<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 midfield | Course Sequence Analysis</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 midfield | Course Sequence Analysis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 midfield | Course Sequence Analysis" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Tim Ransom" />
<meta name="author" content="Randi Sims" />


<meta name="date" content="2023-01-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="modeling-course-sequences.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<script src="libs/FileSaver-1.1.20151003/FileSaver.min.js"></script>
<script src="libs/Blob-1.0/Blob.js"></script>
<script src="libs/canvas-toBlob-1.0/canvas-toBlob.js"></script>
<script src="libs/html2canvas-0.5.0/html2canvas.js"></script>
<script src="libs/jspdf-1.3.2/jspdf.debug.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Course Sequence Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Project overview</a></li>
<li class="chapter" data-level="2" data-path="midfield.html"><a href="midfield.html"><i class="fa fa-check"></i><b>2</b> midfield</a>
<ul>
<li class="chapter" data-level="2.1" data-path="midfield.html"><a href="midfield.html#exploring-the-tables"><i class="fa fa-check"></i><b>2.1</b> Exploring the tables</a></li>
<li class="chapter" data-level="2.2" data-path="midfield.html"><a href="midfield.html#collection-of-utility-functions"><i class="fa fa-check"></i><b>2.2</b> collection of utility functions</a></li>
<li class="chapter" data-level="2.3" data-path="midfield.html"><a href="midfield.html#pulling-student-course-sequences"><i class="fa fa-check"></i><b>2.3</b> Pulling student course sequences</a></li>
<li class="chapter" data-level="2.4" data-path="midfield.html"><a href="midfield.html#visualizing-a-students-course-sequence"><i class="fa fa-check"></i><b>2.4</b> Visualizing a student’s course sequence</a></li>
<li class="chapter" data-level="2.5" data-path="midfield.html"><a href="midfield.html#compute-all-course-sequences"><i class="fa fa-check"></i><b>2.5</b> compute all course sequences</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="midfield.html"><a href="midfield.html#employ-the-cores"><i class="fa fa-check"></i><b>2.5.1</b> EMPLOY THE CORES</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modeling-course-sequences.html"><a href="modeling-course-sequences.html"><i class="fa fa-check"></i><b>3</b> modeling course sequences</a>
<ul>
<li class="chapter" data-level="3.1" data-path="modeling-course-sequences.html"><a href="modeling-course-sequences.html#random-forest-model"><i class="fa fa-check"></i><b>3.1</b> Random forest model</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="model-visualization.html"><a href="model-visualization.html"><i class="fa fa-check"></i><b>4</b> model visualization</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Course Sequence Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="midfield" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> midfield<a href="midfield.html#midfield" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="exploring-the-tables" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Exploring the tables<a href="midfield.html#exploring-the-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="midfield.html#cb1-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">tidy =</span> <span class="cn">TRUE</span>, <span class="at">cache =</span> <span class="cn">TRUE</span>, <span class="at">message =</span> <span class="cn">FALSE</span>, <span class="at">error =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-2"><a href="midfield.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## ── Attaching packages ────────
## ✔ ggplot2 3.4.0      ✔ purrr   1.0.1 
## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
## ✔ tidyr   1.3.0      ✔ stringr 1.5.0 
## ✔ readr   2.1.3      ✔ forcats 0.5.2 
## ── Conflicts ─────────────────
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="midfield.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;magrittr&#39;
## 
## The following object is masked from &#39;package:purrr&#39;:
## 
##     set_names
## 
## The following object is masked from &#39;package:tidyr&#39;:
## 
##     extract</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="midfield.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(midfielddata)</span>
<span id="cb5-2"><a href="midfield.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tictoc)</span>
<span id="cb5-3"><a href="midfield.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(parallel)</span>
<span id="cb5-4"><a href="midfield.html#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="midfield.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># yay parallelism!</span></span>
<span id="cb5-6"><a href="midfield.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># leave a core out for system responsiveness  </span></span>
<span id="cb5-7"><a href="midfield.html#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multidplyr)</span>
<span id="cb5-8"><a href="midfield.html#cb5-8" aria-hidden="true" tabindex="-1"></a>cluster <span class="ot">&lt;-</span> <span class="fu">new_cluster</span>(<span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb5-9"><a href="midfield.html#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cluster_library</span>(cluster, <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb5-10"><a href="midfield.html#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">cluster_library</span>(cluster, <span class="st">&quot;stringr&quot;</span>)</span>
<span id="cb5-11"><a href="midfield.html#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="midfield.html#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(course, degree, <span class="at">package =</span> <span class="st">&quot;midfielddata&quot;</span>)</span></code></pre></div>
</div>
<div id="collection-of-utility-functions" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> collection of utility functions<a href="midfield.html#collection-of-utility-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="midfield.html#cb6-1" aria-hidden="true" tabindex="-1"></a>did_student_graduate <span class="ot">&lt;-</span> <span class="cf">function</span>(mcid) {</span>
<span id="cb6-2"><a href="midfield.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(degree <span class="sc">%&gt;%</span> <span class="fu">filter</span>(mcid <span class="sc">==</span> mcid) <span class="sc">%&gt;%</span> <span class="fu">nrow</span>() <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb6-3"><a href="midfield.html#cb6-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-4"><a href="midfield.html#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="midfield.html#cb6-5" aria-hidden="true" tabindex="-1"></a>compute_semester_indicies <span class="ot">&lt;-</span> <span class="cf">function</span>(single_student_record) {</span>
<span id="cb6-6"><a href="midfield.html#cb6-6" aria-hidden="true" tabindex="-1"></a>  bar <span class="ot">&lt;-</span> single_student_record<span class="sc">$</span>data[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> </span>
<span id="cb6-7"><a href="midfield.html#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb6-8"><a href="midfield.html#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">term_course =</span> <span class="fu">as_factor</span>(term_course)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-9"><a href="midfield.html#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">semester_taken =</span> <span class="fu">as.integer</span>(term_course))</span>
<span id="cb6-10"><a href="midfield.html#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(bar)</span>
<span id="cb6-11"><a href="midfield.html#cb6-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-12"><a href="midfield.html#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="midfield.html#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># make a table of the courses the student took by semester</span></span>
<span id="cb6-14"><a href="midfield.html#cb6-14" aria-hidden="true" tabindex="-1"></a>format_courses <span class="ot">&lt;-</span> <span class="cf">function</span>(single_student) {</span>
<span id="cb6-15"><a href="midfield.html#cb6-15" aria-hidden="true" tabindex="-1"></a>  transcript_summary <span class="ot">&lt;-</span> single_student<span class="sc">$</span>data[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span></span>
<span id="cb6-16"><a href="midfield.html#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(term_course) <span class="sc">%&gt;%</span> </span>
<span id="cb6-17"><a href="midfield.html#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">str_c</span>(abbrev, number, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-18"><a href="midfield.html#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">label =</span> <span class="fu">paste</span>(p, <span class="at">collapse =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-19"><a href="midfield.html#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb6-20"><a href="midfield.html#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(label)</span>
<span id="cb6-21"><a href="midfield.html#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(transcript_summary)</span>
<span id="cb6-22"><a href="midfield.html#cb6-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-23"><a href="midfield.html#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="midfield.html#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co"># this is a version that can be passed into a mutate statement</span></span>
<span id="cb6-25"><a href="midfield.html#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co"> integrate this with the non-vectorized version with a input variable check</span></span>
<span id="cb6-26"><a href="midfield.html#cb6-26" aria-hidden="true" tabindex="-1"></a>vectorized_format_courses <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb6-27"><a href="midfield.html#cb6-27" aria-hidden="true" tabindex="-1"></a>  transcript_summary <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb6-28"><a href="midfield.html#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(term_course) <span class="sc">%&gt;%</span> </span>
<span id="cb6-29"><a href="midfield.html#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">str_c</span>(abbrev, number, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-30"><a href="midfield.html#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">label =</span> <span class="fu">paste</span>(p, <span class="at">collapse =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-31"><a href="midfield.html#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb6-32"><a href="midfield.html#cb6-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(label)</span>
<span id="cb6-33"><a href="midfield.html#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(transcript_summary))</span>
<span id="cb6-34"><a href="midfield.html#cb6-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-35"><a href="midfield.html#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="fu">cluster_copy</span>(cluster, <span class="st">&quot;vfc&quot;</span>)</span></code></pre></div>
<pre><code>## Error in `env_get_list()`:
## ! Can&#39;t find `vfc` in environment.</code></pre>
</div>
<div id="pulling-student-course-sequences" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Pulling student course sequences<a href="midfield.html#pulling-student-course-sequences" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="midfield.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert to tibble</span></span>
<span id="cb8-2"><a href="midfield.html#cb8-2" aria-hidden="true" tabindex="-1"></a>course <span class="ot">&lt;-</span> <span class="fu">tibble</span>(course) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="midfield.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mcid, abbrev, number, term_course) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="midfield.html#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest_by</span>(mcid) <span class="sc">%&gt;%</span> </span>
<span id="cb8-5"><a href="midfield.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">partition</span>()</span></code></pre></div>
<pre><code>## Error in worker_id(data, cluster): argument &quot;cluster&quot; is missing, with no default</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="midfield.html#cb10-1" aria-hidden="true" tabindex="-1"></a>single_student <span class="ot">&lt;-</span> course <span class="sc">%&gt;%</span> <span class="fu">filter</span>(mcid <span class="sc">==</span> <span class="st">&quot;MCID3111142283&quot;</span>)</span>
<span id="cb10-2"><a href="midfield.html#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="midfield.html#cb10-3" aria-hidden="true" tabindex="-1"></a>single_student_sequence <span class="ot">&lt;-</span> <span class="fu">format_courses</span>(single_student)</span></code></pre></div>
<pre><code>## Error in UseMethod(&quot;group_by&quot;): no applicable method for &#39;group_by&#39; applied to an object of class &quot;NULL&quot;</code></pre>
</div>
<div id="visualizing-a-students-course-sequence" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Visualizing a student’s course sequence<a href="midfield.html#visualizing-a-students-course-sequence" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TODO: visualize a single students path to graduation</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="midfield.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(visNetwork)</span>
<span id="cb12-2"><a href="midfield.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#library(tidygraph)</span></span>
<span id="cb12-3"><a href="midfield.html#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="midfield.html#cb12-4" aria-hidden="true" tabindex="-1"></a>make_edges <span class="ot">&lt;-</span> <span class="cf">function</span>(single_student_sequence) {</span>
<span id="cb12-5"><a href="midfield.html#cb12-5" aria-hidden="true" tabindex="-1"></a>  number_semesters <span class="ot">&lt;-</span> <span class="fu">nrow</span>(single_student_sequence)</span>
<span id="cb12-6"><a href="midfield.html#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">data.frame</span>(<span class="at">from =</span> <span class="fu">seq</span>(number_semesters), </span>
<span id="cb12-7"><a href="midfield.html#cb12-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">to =</span> <span class="fu">append</span>(<span class="fu">seq</span>(<span class="dv">2</span>, number_semesters), <span class="cn">NA</span>)))</span>
<span id="cb12-8"><a href="midfield.html#cb12-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-9"><a href="midfield.html#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="midfield.html#cb12-10" aria-hidden="true" tabindex="-1"></a>make_nodes <span class="ot">&lt;-</span> <span class="cf">function</span>(single_student_sequence) {</span>
<span id="cb12-11"><a href="midfield.html#cb12-11" aria-hidden="true" tabindex="-1"></a>  number_semesters <span class="ot">&lt;-</span> <span class="fu">nrow</span>(single_student_sequence)</span>
<span id="cb12-12"><a href="midfield.html#cb12-12" aria-hidden="true" tabindex="-1"></a>  nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="fu">seq</span>(number_semesters),</span>
<span id="cb12-13"><a href="midfield.html#cb12-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="st">&quot;box&quot;</span>)</span>
<span id="cb12-14"><a href="midfield.html#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">cbind</span>(nodes, single_student_sequence))</span>
<span id="cb12-15"><a href="midfield.html#cb12-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-16"><a href="midfield.html#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="midfield.html#cb12-17" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">make_edges</span>(single_student_sequence)</span>
<span id="cb12-18"><a href="midfield.html#cb12-18" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">make_nodes</span>(single_student_sequence)</span>
<span id="cb12-19"><a href="midfield.html#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(nodes, edges, <span class="at">height =</span> <span class="st">&quot;500px&quot;</span>, <span class="at">width =</span> <span class="st">&quot;100%&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-20"><a href="midfield.html#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(<span class="at">navigationButtons =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">&#39;from&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-21"><a href="midfield.html#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visExport</span>()</span></code></pre></div>
<div id="htmlwidget-419164bea9ce3f3b5a13" style="width:100%;height:500px;" class="visNetwork html-widget "></div>
<script type="application/json" data-for="htmlwidget-419164bea9ce3f3b5a13">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10],"shape":["box","box","box","box","box","box","box","box","box","box"],"label":["ACCT 2004\nHR 1104\nHIDM 1114\nHIDM 1124\nHIDM 2204\nHIDM 2604","ACCT 1504\nACCT 2115\nHIST 3705\nPSCI 1015\nSOC 2004","ACCT 2115\nMSCI 2405","ACCT 2116\nPSCI 1015","FIN 3055\nMGT 3304\nMSCI 2406\nMKTG 3104","FIN 3055\nACCT 2116\nMGT 3304\nMSCI 3414\nCS 1014","ECON 3104\nHIST 3706","ECON 3204\nECON 4924","ECON 3304\nECON 4014\nECON 4044\nIDST 1114\nCHN 2984\nGEOS 1004","ECON 3214\nECON 4054\nECON 4136\nIDST 1124\nCHN 2984\nENGL 1106"]},"edges":{"from":[1,2,3,4,5,6,7,8,9],"to":[2,3,4,5,6,7,8,9,10]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"interaction":{"navigationButtons":true,"zoomSpeed":1},"edges":{"arrows":"from"}},"groups":null,"width":"100%","height":"500px","idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","export":{"type":"png","css":"float:right;-webkit-border-radius: 10;\n                  -moz-border-radius: 10;\n                  border-radius: 10px;\n                  font-family: Arial;\n                  color: #ffffff;\n                  font-size: 12px;\n                  background: #090a0a;\n                  padding: 4px 8px 4px 4px;\n                  text-decoration: none;","background":"#fff","name":"network.png","label":"Export as png"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="compute-all-course-sequences" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> compute all course sequences<a href="midfield.html#compute-all-course-sequences" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="employ-the-cores" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> EMPLOY THE CORES<a href="midfield.html#employ-the-cores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="midfield.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tic</span>()</span>
<span id="cb13-2"><a href="midfield.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># execution time on Tim&#39;s laptop: 1623 seconds = ~27 minutes</span></span>
<span id="cb13-3"><a href="midfield.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#course %&lt;&gt;% mutate(sequences = vfc(data))</span></span>
<span id="cb13-4"><a href="midfield.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">toc</span>()</span></code></pre></div>
<pre><code>## 0.002 sec elapsed</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modeling-course-sequences.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-intro-to-midfield.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
